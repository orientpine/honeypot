# Output Structure Guide

Paper Style Generator가 생성하는 스킬 세트의 구조 가이드입니다.

## 1. 출력 위치

생성된 스킬은 다음 위치에 저장됩니다:

```
~/.claude/skills/{name}-paper-skills/
```

예: `~/.claude/skills/hakho-paper-skills/`

---

## 2. 디렉토리 구조

```
{name}-paper-skills/
├── .claude-plugin/
│   └── marketplace.json          # 마켓플레이스 메타데이터
├── {name}-common/
│   ├── .claude-plugin/
│   │   └── plugin.json
│   └── skills/
│       ├── SKILL.md              # 공통 스타일 가이드
│       └── references/
│           ├── style-guide.md    # 상세 스타일 가이드
│           └── vocabulary-patterns.md
├── {name}-abstract/
│   ├── .claude-plugin/
│   │   └── plugin.json
│   └── skills/
│       ├── SKILL.md
│       └── assets/
│           └── input-template.md
├── {name}-introduction/
│   ├── .claude-plugin/
│   │   └── plugin.json
│   └── skills/
│       ├── SKILL.md
│       ├── references/
│       │   └── section-templates.md
│       └── assets/
│           └── input-template.md
├── {name}-methodology/
│   └── skills/...
├── {name}-results/
│   └── skills/...
├── {name}-discussion/
│   └── skills/...
├── {name}-caption/
│   └── skills/...
├── {name}-title/
│   └── skills/...
├── {name}-verify/
│   └── skills/
│       ├── SKILL.md
│       └── references/
│           └── checklist.md
└── README.md                      # 사용 가이드
```

---

## 3. 파일 설명

### 3.1 marketplace.json

```json
{
  "name": "{name}-paper-skills",
  "owner": {
    "name": "Auto-generated by Paper Style Generator"
  },
  "metadata": {
    "version": "1.0.0",
    "description": "...",
    "generated": "2026-01-08T13:00:00",
    "source_papers": 12,
    "confidence": 0.85
  },
  "plugins": [
    {
      "name": "{name}-common",
      "source": "./{name}-common",
      "strict": true,
      "skills": ["./skills"]
    },
    // ... 9개 플러그인
  ]
}
```

### 3.2 plugin.json (각 스킬)

```json
{
  "name": "{name}-{section}",
  "version": "1.0.0",
  "description": "...",
  "author": {
    "name": "Auto-generated"
  },
  "skills": "./skills/"
}
```

### 3.3 SKILL.md

각 스킬의 메인 정의 파일입니다.

**필수 요소**:
- Frontmatter (name, description)
- Style Overview (voice, tense, length)
- Key Writing Patterns
- Transformation Examples
- Anti-Patterns
- Output Directory

---

## 4. 스킬별 특화 파일

### 4.1 {name}-common

```
references/
├── style-guide.md        # 상세 스타일 가이드
└── vocabulary-patterns.md # 어휘 패턴
```

### 4.2 Section 스킬들 (abstract ~ discussion)

```
references/
└── section-templates.md  # 섹션 템플릿

assets/
└── input-template.md     # 입력 템플릿
```

### 4.3 {name}-caption

```
references/
└── caption-templates.md  # 캡션 템플릿

assets/
└── input-template.md
```

### 4.4 {name}-title

```
references/
└── title-patterns.md     # 제목 패턴 분석

assets/
└── input-template.md
```

### 4.5 {name}-verify

```
references/
└── checklist.md          # 검증 체크리스트
```

---

## 5. 등록 및 사용

### 5.1 스킬 등록

```bash
# Claude Code에서 실행
/plugin marketplace add ~/.claude/skills/{name}-paper-skills
```

### 5.2 스킬 사용

```
/{name}-introduction
/{name}-methodology
/{name}-results
...
```

### 5.3 스킬 제거

```bash
/plugin marketplace remove {name}-paper-skills
```

---

## 6. 커스터마이징

### 6.1 스타일 수정

생성된 스킬을 수정하려면:

1. `~/.claude/skills/{name}-paper-skills/` 로 이동
2. 해당 스킬의 `SKILL.md` 수정
3. 필요시 `references/` 파일 수정

### 6.2 새 패턴 추가

`references/` 폴더에 새로운 패턴 파일을 추가할 수 있습니다.

### 6.3 주의사항

- `marketplace.json`의 구조는 수정하지 마세요
- `"strict": true`는 유지하세요
- 파일명에 특수문자를 사용하지 마세요

---

## 7. 버전 관리

### 7.1 버전 정보

`marketplace.json`의 `metadata.version`에 버전이 기록됩니다.

### 7.2 재생성

동일한 이름으로 재생성하면 기존 스킬이 덮어쓰기됩니다.
백업이 필요한 경우 먼저 복사하세요.

---

## 8. 문제 해결

### 8.1 스킬이 인식되지 않음

```bash
# 캐시 클리어
Remove-Item -Recurse -Force "$env:USERPROFILE\.claude\plugins\cache"

# 재등록
/plugin marketplace remove {name}-paper-skills
/plugin marketplace add ~/.claude/skills/{name}-paper-skills
```

### 8.2 YAML 파싱 오류

- SKILL.md의 description에 작은따옴표가 있으면 큰따옴표로 감싸세요
- 줄바꿈은 LF만 사용하세요 (CRLF 금지)

### 8.3 경로 오류

- `skills: ["./skills"]` 사용 (trailing slash 없음)
- `skills: ["./skills/SKILL.md"]` 사용 금지
